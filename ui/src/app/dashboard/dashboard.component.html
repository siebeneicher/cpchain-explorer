
<br>
<section class="section" *ngIf="kpi.isLoaded('dashboard')">
<div class="container">
  <div class="columns is-size-2-mobile is-size-2-desktop">
    <div class="column has-text-centered has-text-weight-light">{{kpi.datasets.dashboard.data.last_rnodes.rnodes.length}} RNodes</div>
    <div class="column has-text-centered has-text-weight-light">{{kpi.data('dashboard','last_rewards','total_roi_year','dashboard.top-teaser')}}% ROI / Y</div>
    <div class="column has-text-centered has-text-weight-light">{{kpi.data('dashboard','last_transactions_sum','count','dashboard.top-teaser')}} Trx's / H</div>
    <div class="column has-text-centered">Growth X</div>
  </div>
</div>
</section>


<section class="section">
<div class="container">
<div class="tile is-ancestor">
  <div class="tile is-vertical is-8">
    <div class="tile">
      <div class="tile is-parent is-vertical">
        <article class="tile is-child notification is-primary" *ngIf="kpi.isLoaded('dashboard')">
          <p class="title is-size-3">Health</p>
          <p class="subtitle">Networks overall health KPIs</p>
          <div class="keys-values-container is-size-5">
            <div class="keys-container">
              <div class="item">Last Block</div>
              <div class="item">Active RNodes</div>
              <div class="item">Transactions</div>
              <div class="item">Volume</div>
              <div class="item">Impeached</div>
            </div>
            <div class="values-container is-size-5">
              <div class="item">{{kpi.datasets.dashboard.data.last_block.number}} ({{ago(kpi.datasets.dashboard.data.last_block.timestamp)}})</div>
              <div class="item">{{kpi.datasets.dashboard.data.last_rnodes.rnodes.length}}</div>
              <div class="item onhover">
                <span class="onhover-hide">{{kpi.data('dashboard','last_transactions_sum','count','dashboard.health')}} / {{kpi.selectedOption('dashboard','last_transactions_sum','count','dashboard.health').full}}</span>

                <div class="buttons has-addons onhover-show">
                  <a *ngFor="let option of kpi.options('dashboard','last_transactions_sum')"
                    class="button is-small {{kpi.unitSelected('dashboard','last_transactions_sum', 'count', 'dashboard.health') == option.unit ? 'is-info is-selected' : ''}} tooltip"
                    [attr.data-tooltip]="option.full"
                    (click)="kpi.selectUnit('dashboard','last_transactions_sum', 'count', 'dashboard.health', option.unit)">{{option.abbrev}}</a>
                </div>
              </div>
              <div class="item onhover">
                <span class="onhover-hide">{{kpi.data('dashboard','last_transactions_sum','volume','dashboard.health') | number : '1.2-2'}} CPC / {{kpi.selectedOption('dashboard','last_transactions_sum','volume','dashboard.health').full}}</span>

                <div class="buttons has-addons onhover-show">
                  <a *ngFor="let option of kpi.options('dashboard','last_transactions_sum')"
                    class="button is-small {{kpi.unitSelected('dashboard','last_transactions_sum', 'volume', 'dashboard.health') == option.unit ? 'is-info is-selected' : ''}} tooltip"
                    [attr.data-tooltip]="option.full"
                    (click)="kpi.selectUnit('dashboard','last_transactions_sum', 'volume', 'dashboard.health', option.unit)">{{option.abbrev}}</a>
                </div>
              </div>
              <div class="item onhover">
                <span class="onhover-hide">{{kpi.data('dashboard','last_blocks','impeached','dashboard.health')}} / {{kpi.selectedOption('dashboard','last_blocks','impeached','dashboard.health').full}}</span>

                <div class="buttons has-addons onhover-show">
                  <a *ngFor="let option of kpi.options('dashboard','last_blocks')"
                    class="button is-small {{kpi.unitSelected('dashboard','last_blocks', 'impeached', 'dashboard.health') == option.unit ? 'is-info is-selected' : ''}} tooltip"
                    [attr.data-tooltip]="option.full"
                    (click)="kpi.selectUnit('dashboard','last_blocks', 'impeached', 'dashboard.health', option.unit)">{{option.abbrev}}</a>
                </div>
              </div>
            </div>
          </div>
        </article>
      </div>
      <div class="tile is-parent">
        <article class="tile is-child notification is-primary" *ngIf="kpi.isLoaded('dashboard')">
          <p class="title is-size-3">Rewards</p>
          <p class="subtitle">Whats the rewards running an RNode</p>
          <div class="keys-values-container is-size-5 ">
            <div class="keys-container">
              <div class="item">ROI RNode (avg.)</div>
              <div class="item">ROI ENode (avg.)</div>
              <div class="item">Reward (min.)</div>
              <div class="item">Total Rewards</div>
              <div class="item">Lockup Season</div>
              <div class="item">Rewards / Year</div>
            </div>
            <div class="values-container is-size-5">
              <div class="item onhover">
                <span class="onhover-hide">{{kpi.data('dashboard','last_rewards','total_roi_year','dashboard.rewards')}}% / {{kpi.selectedOption('dashboard','last_rewards','total_roi_year','dashboard.rewards').full}}</span>

                <div class="buttons has-addons onhover-show">
                  <a *ngFor="let option of kpi.options('dashboard','last_rewards')"
                    class="button is-small {{kpi.unitSelected('dashboard','last_rewards', 'total_roi_year', 'dashboard.rewards') == option.unit ? 'is-info is-selected' : ''}} tooltip"
                    [attr.data-tooltip]="option.full"
                    (click)="kpi.selectUnit('dashboard','last_rewards', 'total_roi_year', 'dashboard.rewards', option.unit)">{{option.abbrev}}</a>
                </div>
              </div>
              <div class="item">TODO</div>
              <div class="item">{{kpi.datasets.dashboard.data.reward_per_block}} CPC / Block</div>
              <div class="item onhover">
                <span class="onhover-hide">{{kpi.data('dashboard','last_rewards', 'total_rewards', 'dashboard.rewards') | number : '1.2-2'}} CPC / {{kpi.selectedOption('dashboard','last_rewards', 'total_rewards', 'dashboard.rewards').abbrev}}</span>

                <div class="buttons has-addons onhover-show">
                  <a *ngFor="let option of kpi.options('dashboard','last_rewards')"
                    class="button is-small {{kpi.unitSelected('dashboard','last_rewards', 'total_rewards', 'dashboard.rewards') == option.unit ? 'is-info is-selected' : ''}} tooltip"
                    [attr.data-tooltip]="option.full"
                    (click)="kpi.selectUnit('dashboard','last_rewards', 'total_rewards', 'dashboard.rewards', option.unit)">{{option.abbrev}}</a>
                </div>
              </div>
              <div class="item">Aug.-Oct. 2019</div>
              <div class="item">TODO (250k,500k,..)</div>
            </div>
          </div>
        </article>
      </div>
    </div>
    <div class="tile is-parent">
      <article class="tile is-child notification is-primary" *ngIf="kpi.isLoaded('dashboard')">
        <p class="title is-size-3">Wealth</p>
        <p class="subtitle is-size-4">Current wealth of the CPC Ecosystem</p>
        <div class="content">
          Industry|Team|Community Nodes: TODO<br>
          Prices: TODO ETH/BTC/USD<br>
          Exchanges: TODO A/B/C<br>
          Balance Growth RNodes: TODO X%<br>
          Addresses: TODO 124 (growth X% / day)
        </div>
      </article>
    </div>
  </div>
  <div class="tile is-parent">
    <article class="tile is-child notification is-primary" *ngIf="kpi.isLoaded('myrnode')">
      <div class="content">
        <p class="title is-size-3">My RNode</p>
        <p class="subtitle is-size-4">{{userRNode() | slice:0:22}}...</p>
        <div class="content">
           <div class="keys-values-container is-size-5">
            <div class="keys-container">
              <div class="item">Blocks sealed</div>
              <div class="item">Impeached</div>
              <div class="item">Rewards earned</div>
              <div class="item">ROI</div>
              <div class="item">RPT</div>
              <div class="item">Balance</div>
              <div class="item">Proposer</div>
              <div class="item">Type of RNode</div>
            </div>
            <div class="values-container is-size-5">
              <div class="item onhover">
                 <span class="onhover-hide">{{kpi.data('myrnode','last_rewards','total_mined','dashboard.myrnode')}} CPC / {{kpi.selectedOption('myrnode','last_rewards', 'total_mined', 'dashboard.myrnode').full}}</span>

                <div class="buttons has-addons onhover-show">
                  <a *ngFor="let option of kpi.options('myrnode','last_rewards')"
                    class="button is-small {{kpi.unitSelected('myrnode','last_rewards', 'total_mined', 'dashboard.myrnode') == option.unit ? 'is-info is-selected' : ''}} tooltip"
                    [attr.data-tooltip]="option.full"
                    (click)="kpi.selectUnit('myrnode','last_rewards', 'total_mined', 'dashboard.myrnode', option.unit)">{{option.abbrev}}</a>
                </div> 
              </div>
              <div class="item onhover">
                 <span class="onhover-hide">TODO <!-- {{kpi.data('myrnode','last_rewards','total_impeached','dashboard.myrnode')}} CPC / {{kpi.selectedOption('myrnode','last_rewards', 'total_impeached', 'dashboard.myrnode').full}} --></span>

                <div class="buttons has-addons onhover-show">
                  <a *ngFor="let option of kpi.options('myrnode','last_rewards')"
                    class="button is-small {{kpi.unitSelected('myrnode','last_rewards', 'total_impeached', 'dashboard.myrnode') == option.unit ? 'is-info is-selected' : ''}} tooltip"
                    [attr.data-tooltip]="option.full"
                    (click)="kpi.selectUnit('myrnode','last_rewards', 'total_impeached', 'dashboard.myrnode', option.unit)">{{option.abbrev}}</a>
                </div> 
              </div>
              <div class="item onhover">
                 <span class="onhover-hide">{{kpi.data('myrnode','last_rewards','total_rewards','dashboard.myrnode') | number : '1.2-2'}} CPC / {{kpi.selectedOption('myrnode','last_rewards', 'total_rewards', 'dashboard.myrnode').full}}</span>

                <div class="buttons has-addons onhover-show">
                  <a *ngFor="let option of kpi.options('myrnode','last_rewards')"
                    class="button is-small {{kpi.unitSelected('myrnode','last_rewards', 'total_rewards', 'dashboard.myrnode') == option.unit ? 'is-info is-selected' : ''}} tooltip"
                    [attr.data-tooltip]="option.full"
                    (click)="kpi.selectUnit('myrnode','last_rewards', 'total_rewards', 'dashboard.myrnode', option.unit)">{{option.abbrev}}</a>
                </div>
              </div>
              <div class="item onhover">
                 <span class="onhover-hide">{{kpi.data('myrnode','last_rewards','total_roi','dashboard.myrnode') | number : '1.2-2'}}% / {{kpi.selectedOption('myrnode','last_rewards', 'total_roi', 'dashboard.myrnode').abbrev}} (rank ?)</span>

                <div class="buttons has-addons onhover-show">
                  <a *ngFor="let option of kpi.options('myrnode','last_rewards')"
                    class="button is-small {{kpi.unitSelected('myrnode','last_rewards', 'total_roi', 'dashboard.myrnode') == option.unit ? 'is-info is-selected' : ''}} tooltip"
                    [attr.data-tooltip]="option.full"
                    (click)="kpi.selectUnit('myrnode','last_rewards', 'total_roi', 'dashboard.myrnode', option.unit)">{{option.abbrev}}</a>
                </div> 
              </div>
              <div class="item">
                <span *ngIf="kpi.datasets.myrnode.data.last_rpt">
                  {{kpi.datasets.myrnode.data.last_rpt.rpt}} (rank {{kpi.datasets.myrnode.data.last_rpt.rank}} of {{kpi.datasets.dashboard.data.last_rnodes.rnodes.length}})
                </span>TODO
              </div>
              <div class="item">
                <span *ngIf="kpi.datasets.myrnode.data.last_balance">
                  {{kpi.datasets.myrnode.data.last_balance}} (rank ?)
                </span>TODO
              </div>
              <div class="item">
                TODO
              </div>
              <div class="item">
                TODO
              </div>
            </div>
          </div>
        </div>
      </div>
    </article>
  </div>
</div>
</div>
</section>




<section class="section">
<div class="container">
	<app-blocks-squared></app-blocks-squared>
</div>
</section>

<section class="hero is-primary">
  <div class="hero-body">
    <div class="container">
      Current CPC node version: <a href="{{latestRelease.html_url}}">{{latestRelease.name}}</a><br>
      <i>Next version scheduled for 12/12/2030</i><br>
    </div>
  </div>
</section>

<section class="section">
<div class="container">
  <app-trx-streamgraph></app-trx-streamgraph>
</div>
</section>

<section class="section">
<div class="container">
	INDUSTRY NODES (TRAFFIC OVERVIEW)
</div>
</section>

<!-- 
<pre>
	Views:
		Blocks: visualized as square-block, per day, each block red/green color (mined/impeached), count trx, count trx volume
		Dashboard: blocks line, each new block constructed visually by the line of the square

	Overall stats:
		ROI

	ROI calculator:
		give amount CPC (Eoc, Rnode)

	RNode centered:
		block X
		balance X
		is Rnode
		is Proposer
		blocks sealed
		timeframe: within last X hours, X days, X weeks, X months, X years - now | date/time
		ROI
		manual add price for harward (by hour/month)
		impeached blocks, amount, when
		reputation over time

	RNodes overview:
		addr
		balance during time period
		blocks sealed
		ROI based on balance during time period
		timeframe: within last X hours, X days, X weeks, X months, X years - now | date/time

	Reputation:
		averages

	Transactions:
		stats by count txs, volume cps

	Addresses:
		growth
		icon by hash
		if rnode: reputation, promoter

	Live:
		Blocks
		Transactions


</pre> -->